{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": "1.0.0",
  "description": "Semantic pattern index for AI-assisted retrieval",
  "last_updated": "2026-01-21",
  "patterns": [
    {
      "id": "async-image-fade-in",
      "name": "Async Image Fade-In",
      "path": "frontend/async-image-fade-in.md",
      "category": "frontend",
      "tags": ["svelte5", "typescript", "css-transitions", "pwa", "images"],
      "triggers": ["image fade", "lazy load fade", "image transition", "smooth image load"],
      "problem_keywords": ["image pop-in", "abrupt image", "image flash", "jarring load"],
      "solution_summary": "Track loaded state and apply opacity transition for smooth image appearance",
      "reusability_score": 5,
      "related": ["async-media-loading"],
      "usage_stats": {
        "times_used": 1,
        "success_rate": 1.0,
        "feedback": ["Discovered in Syna / CONV-001"]
      }
    },
    {
      "id": "motion-presets",
      "name": "Motion Preset System",
      "path": "ux/motion-presets.md",
      "category": "ux",
      "tags": ["svelte5", "typescript", "css-custom-properties", "a11y", "animation"],
      "triggers": ["animation system", "motion tokens", "transition presets", "stagger animation"],
      "problem_keywords": ["inconsistent animation", "hardcoded duration", "reduced motion", "animation rhythm"],
      "solution_summary": "Layered motion system with tokens, semantic presets, and automatic reduced-motion support",
      "reusability_score": 6,
      "related": ["directional-transitions", "async-image-fade-in"],
      "usage_stats": {
        "times_used": 1,
        "success_rate": 1.0,
        "feedback": ["Discovered in Syna / CONV-001"]
      }
    },
    {
      "id": "ash-get-or-create",
      "name": "Ash Get-or-Create",
      "path": "backend/ash-get-or-create.md",
      "category": "backend",
      "tags": ["elixir", "ash", "ecto", "idempotent"],
      "triggers": ["get or create", "ensure exists", "default resource", "upsert"],
      "problem_keywords": ["not found create", "idempotent", "race condition", "read_one vs read_one!"],
      "solution_summary": "Idempotent resource retrieval using read_one with proper error handling to create if not found",
      "reusability_score": 5,
      "related": ["async-result-extraction"],
      "usage_stats": {
        "times_used": 1,
        "success_rate": 1.0,
        "feedback": ["Discovered in Syna / CONV-001"]
      }
    },
    {
      "id": "async-media-loading",
      "name": "Async Media Loading",
      "path": "frontend/async-media-loading.md",
      "category": "frontend",
      "tags": ["svelte5", "typescript", "pwa", "ux", "accessibility", "images"],
      "triggers": ["image loading", "lazy load", "thumbnail", "avatar", "cover image"],
      "problem_keywords": ["content jump", "broken image", "loading indicator", "image fallback"],
      "solution_summary": "Polished image loading with lazy loading, fade-in animations, skeleton placeholders, and graceful fallbacks",
      "reusability_score": 7,
      "related": ["swipe-drawer", "user-scoped-cache"],
      "usage_stats": {
        "times_used": 1,
        "success_rate": 1.0,
        "feedback": ["Discovered in Syna / HOME-002"]
      }
    },
    {
      "id": "swipe-drawer",
      "name": "Swipe-to-Close Drawer",
      "path": "frontend/swipe-drawer.md",
      "category": "frontend",
      "tags": ["svelte5", "typescript", "pwa", "mobile", "gestures", "accessibility"],
      "triggers": ["drawer", "side panel", "swipe gesture", "mobile navigation"],
      "problem_keywords": ["native feel", "swipe to dismiss", "safe areas", "touch gesture"],
      "solution_summary": "Mobile-native side drawer with swipe gesture support, safe area handling, and smooth animations",
      "reusability_score": 6,
      "related": ["user-scoped-cache", "async-media-loading"],
      "usage_stats": {
        "times_used": 1,
        "success_rate": 1.0,
        "feedback": ["Discovered in Syna / HOME-002"]
      }
    },
    {
      "id": "user-scoped-cache",
      "name": "User-Scoped Cache with TTL",
      "path": "pwa/user-scoped-cache.md",
      "category": "pwa",
      "tags": ["typescript", "pwa", "offline", "localStorage", "caching"],
      "triggers": ["cache", "offline", "stale-while-revalidate", "localStorage"],
      "problem_keywords": ["user data leak", "stale cache", "storage quota", "SSR crash"],
      "solution_summary": "LocalStorage cache with user isolation, TTL expiration, and silent failure handling",
      "reusability_score": 5,
      "related": ["swipe-drawer"],
      "usage_stats": {
        "times_used": 1,
        "success_rate": 1.0,
        "feedback": ["Discovered in Syna / HOME-002"]
      }
    },
    {
      "id": "async-result-extraction",
      "name": "AsyncResult Status Extraction",
      "path": "backend/async-result-extraction.md",
      "category": "backend",
      "tags": ["elixir", "phoenix", "liveview", "assign_async"],
      "triggers": ["AsyncResult", "loading state", "assign_async", "status extraction"],
      "problem_keywords": ["async states", "loading/error/success", "pattern matching", "LiveView assigns"],
      "solution_summary": "Pattern matching function to extract status and data from Phoenix LiveView AsyncResult structs",
      "reusability_score": 6,
      "related": ["liveview-navigation"],
      "usage_stats": {
        "times_used": 1,
        "success_rate": 1.0,
        "feedback": ["Discovered in Syna / HOME-001"]
      }
    },
    {
      "id": "liveview-navigation",
      "name": "LiveView Navigation with Direction Tracking",
      "path": "frontend/liveview-navigation.md",
      "category": "frontend",
      "tags": ["phoenix", "liveview", "livesvelte", "svelte", "typescript", "pwa"],
      "triggers": ["live navigation", "pushHistoryPatch", "WebSocket navigation", "SPA navigation"],
      "problem_keywords": ["page reload", "WebSocket disconnect", "navigation direction", "history patch"],
      "solution_summary": "Navigation utility using LiveView pushHistoryPatch for WebSocket-based SPA navigation with direction tracking",
      "reusability_score": 6,
      "related": ["directional-transitions", "async-result-extraction"],
      "usage_stats": {
        "times_used": 1,
        "success_rate": 1.0,
        "feedback": ["Discovered in Syna / HOME-001"]
      }
    },
    {
      "id": "directional-transitions",
      "name": "Directional Screen Transitions",
      "path": "ux/directional-transitions.md",
      "category": "ux",
      "tags": ["css", "svelte", "typescript", "pwa", "accessibility"],
      "triggers": ["page transition", "screen animation", "forward/back", "navigation animation"],
      "problem_keywords": ["abrupt transitions", "spatial context", "native app feel", "slide animation"],
      "solution_summary": "CSS animations coordinated with sessionStorage direction tracking for native-like forward/back navigation transitions",
      "reusability_score": 5,
      "related": ["liveview-navigation"],
      "usage_stats": {
        "times_used": 1,
        "success_rate": 1.0,
        "feedback": ["Discovered in Syna / HOME-001"]
      }
    }
  ],
  "categories": {
    "backend": {
      "description": "Elixir/Phoenix/Ash patterns",
      "path": "backend/"
    },
    "frontend": {
      "description": "Svelte/TypeScript/LiveSvelte patterns",
      "path": "frontend/"
    },
    "ux": {
      "description": "User experience, animations, interactions",
      "path": "ux/"
    },
    "pwa": {
      "description": "Progressive Web App patterns",
      "path": "pwa/"
    }
  },
  "retrieval_guide": {
    "description": "How AI should use this index for pattern retrieval",
    "steps": [
      "1. Parse user request for keywords matching 'triggers' or 'problem_keywords'",
      "2. Filter patterns by relevant 'category' and 'tags'",
      "3. Rank by 'reusability_score' (higher = more broadly applicable)",
      "4. Check 'related' patterns for complementary solutions",
      "5. Consider 'usage_stats.success_rate' for proven patterns"
    ],
    "score_thresholds": {
      "high": 5,
      "medium": 3,
      "low": 1
    }
  }
}
